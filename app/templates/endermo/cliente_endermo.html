<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle - {{cliente.nome}}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/modal.css')}}">
</head>
<body>
    <div class="container">
        <h1 class="mb-4">
            Gerenciamento de Cliente
        </h1>

        <div class="box-btn-home">
            <div class="box"><a href="/endermo" class="btn btn-primary btn-home">&#x2190</a>
            <p>Voltar ao início</p></div>
            <div class="box">
                <a href="/adcheckindataendermo/{{cliente.id}}" class="btn btn-primary btn-home">+ check-in data</a>
                <a href="/adicionaragendamentoendermo/{{cliente.id}}" class="btn btn-primary btn-home green">+ agendamento</a>
            </div>
        </div>

        <h2 class="mb-3">
            {{cliente.nome}}
        </h2>

        <!-- Botão que abre o modal -->
        <button class="btn btn-primary btn-remover" id="openModal">Remover Cliente</button>

        {% include "partials/flash_message.html" %}

        <table class="table table-bordered table-checkin">
            <thead>
                <tr>
                <th>Data de check-in</th>
                <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                {% for checkin in checkins %}
                <tr>
                <td>{{ checkin.data }}</td>
                <td><a href="/excluircheckinendermo/{{checkin.id}}" class="btn btn-primary btn-remover excludecheckin">Excluir check-in</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <table class="table table-bordered table-checkin">
            <thead>
                <tr>
                <th>Últimos agendamentos</th>
                <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                {% for a in agendamentos %}
                <tr>
                <td>{{ a.data }}</td>
                <td><a href="/excluiragendamentoendermo/{{a.id}}" class="btn btn-primary btn-remover excludecheckin">Excluir agendamento</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>













        <!-- Modal remover cliente-->
        <div id="myModal" class="modal">
            <div class="modal-content">
            <span style="cursor: pointer;" class="close" id="closeModal">&times;</span>
            <div class="modal-header">Remover {{cliente.nome}}?</div>

            <div class="form-adicionar">
                <button href="#" class="btn btn-primary" id="cancelModal">Cancelar</button>
                <a href="/excluir_endermo/{{ cliente.id }}" class="btn btn-danger">Confirmar</a>
            </div>
        </div>

    </div>

    <script src="{{ url_for('static', filename='js/modal.js') }}"></script>
</body>
</html>